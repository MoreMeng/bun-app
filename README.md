# Simple Bun Server with Configuration

โครงการนี้เป็นการตั้งค่าเซิร์ฟเวอร์ HTTP พื้นฐานโดยใช้ Bun เซิร์ฟเวอร์นี้จะอ่านค่าการตั้งค่าจากไฟล์ `config.json` และตอบกลับด้วยข้อความที่ระบุในไฟล์การตั้งค่า

## การติดตั้ง

1. **ติดตั้ง Bun**: ตรวจสอบว่า Bun ได้ติดตั้งในระบบของคุณแล้ว [Bun](https://bun.sh)

2. **โคลนโครงการ** (ถ้ามาจากระบบควบคุมเวอร์ชัน):

   ```sh
   git clone <repository_url>
   cd <repository_directory>
   ```

3. **ติดตั้ง dependencies**:

   ```sh
   bun install
   ```

## การตั้งค่า

สร้างไฟล์ `config.json` ในโฟลเดอร์หลักของโครงการโดยมีโครงสร้างดังนี้:

```json
{
  "port": 1212,
  "message": "ชื่อเครื่อง ชื่อระบบงาน ข้อความช่วยจำ อาทิ `ath21 database`"
}
```

- `port`: หมายเลขพอร์ตที่เซิร์ฟเวอร์จะฟัง
- `message`: ข้อความที่จะแสดงในตอบกลับของเซิร์ฟเวอร์

## การใช้งาน

รันเซิร์ฟเวอร์ด้วย Bun:

```sh
bun run index.ts
```

เซิร์ฟเวอร์จะเริ่มต้นและฟังที่พอร์ตที่ระบุใน `config.json` (ค่าเริ่มต้นคือ 3000 หากไม่ได้ระบุ) และจะตอบกลับด้วยชื่อเซิร์ฟเวอร์และข้อความ

## ตัวอย่าง

หากคุณส่งคำขอไปยังเซิร์ฟเวอร์ คุณจะได้รับการตอบกลับดังนี้:

```
Server Name: localhost
Message: ชื่อเครื่อง ชื่อระบบงาน ข้อความช่วยจำ อาทิ `ath21 database`
```

## อธิบายโค้ด

```typescript
import { readFileSync } from "fs";
import { serve } from "bun";

// อ่านและแปลงไฟล์การตั้งค่า
const configFile = readFileSync("config.json", "utf8");
const config = JSON.parse(configFile);

const port = config.port || 3000;
const message = config.message || "Hello, World!";

const server = serve({
  fetch(req: Request): Response {
    const serverName = req.headers.get("host") || "Unknown";
    return new Response(`Server Name: ${serverName}\nMessage: ${message}`);
  },
  port: Number(port),
});
```

- **อ่านและแปลงไฟล์การตั้งค่า**: อ่าน `config.json` และแปลงเป็นวัตถุ JavaScript
- **ตั้งค่าพอร์ตและข้อความ**: ใช้ค่าจากไฟล์การตั้งค่าหรือค่าเริ่มต้นเป็น `3000` สำหรับพอร์ตและ `"Hello, World!"` สำหรับข้อความ
- **สร้างและเริ่มเซิร์ฟเวอร์**: ตั้งค่าเซิร์ฟเวอร์ HTTP โดยใช้ฟังก์ชัน `serve` ของ Bun เซิร์ฟเวอร์จะตอบกลับคำขอด้วยชื่อเซิร์ฟเวอร์และข้อความ

## การตั้งค่าให้ bunwatcher.exe ทำงานอัตโนมัติหลังเปิดเครื่อง

1. **เปิด Task Scheduler**: ไปที่เมนู Start และพิมพ์ "Task Scheduler" แล้วกด Enter

2. **สร้างงานใหม่**:
   - คลิกขวาที่ "Task Scheduler Library" และเลือก "Create Basic Task..."
   - ตั้งชื่อและคำอธิบายของงาน แล้วคลิก "Next"
   - เลือก "When the computer starts" แล้วคลิก "Next"
   - เลือก "Start a program" แล้วคลิก "Next"
   - คลิก "Browse..." และเลือกไฟล์ `bunwatcher.exe`
   - คลิก "Next" และ "Finish" เพื่อสร้างงาน

3. **ตรวจสอบงาน**: ตรวจสอบให้งานที่สร้างใหม่มีอยู่ในรายการและตั้งค่าให้ทำงานเมื่อเริ่มต้นเครื่อง

---
แน่นอน! นี่คือการต่อเนื่องจาก README.md:

---

## การตรวจสอบสถานะเซิร์ฟเวอร์

คุณสามารถตรวจสอบสถานะเซิร์ฟเวอร์ได้โดยการส่งคำขอ HTTP ไปยังเซิร์ฟเวอร์ที่ทำงานอยู่ โดยสามารถใช้เครื่องมือเช่น **Postman** หรือ **cURL** ดังนี้:

### ตัวอย่างการใช้ cURL

```sh
curl http://localhost:1212
```

การตอบกลับจะมีลักษณะดังนี้:

```
Server Name: localhost
Message: ชื่อเครื่อง ชื่อระบบงาน ข้อความช่วยจำ อาทิ `ath21 database`
```

## การจัดการข้อผิดพลาด

ในกรณีที่เกิดข้อผิดพลาดหรือปัญหาขณะรันเซิร์ฟเวอร์ ให้ตรวจสอบข้อความแสดงข้อผิดพลาดในคอนโซลเพื่อหาสาเหตุ โดยสามารถตรวจสอบไฟล์ `config.json` ว่ามีรูปแบบถูกต้องหรือไม่ และว่าพอร์ตที่ระบุไม่ถูกใช้งานอยู่แล้ว

## การพัฒนาต่อ

คุณสามารถปรับปรุงและพัฒนาฟีเจอร์เพิ่มเติมได้ตามต้องการ เช่น:

- เพิ่มเส้นทาง (routes) สำหรับการจัดการคำขอที่แตกต่างกัน
- เชื่อมต่อกับฐานข้อมูลเพื่อเก็บข้อมูล
- เพิ่มระบบการตรวจสอบสิทธิ์ผู้ใช้

## License

โครงการนี้มีสัญญาอนุญาตภายใต้ MIT License - ดูรายละเอียดได้ที่ไฟล์ [LICENSE](LICENSE)
